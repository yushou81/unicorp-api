# 简历管理功能测试计划

## 背景

在第8次迭代中，我们重构了原有的个人主页控制器，创建了专门的简历管理控制器，并提供了完整的简历增删改查功能。这个测试计划旨在验证新的简历管理功能是否正常工作。

## 测试范围

1. 简历的创建功能
2. 简历的查询功能
3. 简历的更新功能
4. 简历的删除功能
5. 简历列表查询功能

## 测试用例

### 1. 简历创建测试

#### 1.1 正常创建简历

**步骤：**
1. 以学生身份登录
2. 调用创建简历API，提供专业、教育水平等必要信息
3. 验证简历创建成功

**预期结果：**
- 返回状态码201
- 返回成功消息和新创建的简历信息
- 数据库中的resumes表有对应记录

#### 1.2 创建简历时缺少必要字段

**步骤：**
1. 以学生身份登录
2. 调用创建简历API，但不提供专业或教育水平
3. 验证系统返回错误

**预期结果：**
- 返回状态码400
- 返回错误消息，指出缺少必要字段

### 2. 简历查询测试

#### 2.1 查询自己的简历

**步骤：**
1. 以学生身份登录
2. 调用查询简历API
3. 验证返回的简历信息正确

**预期结果：**
- 返回状态码200
- 返回的简历信息与数据库中的记录一致

#### 2.2 查询其他用户的简历

**步骤：**
1. 以学生身份登录
2. 调用查询其他用户简历API
3. 验证返回的简历信息正确

**预期结果：**
- 返回状态码200
- 返回的简历信息与数据库中的记录一致

#### 2.3 查询不存在的简历

**步骤：**
1. 以学生身份登录
2. 调用查询不存在用户的简历API
3. 验证系统返回错误

**预期结果：**
- 返回状态码404
- 返回错误消息："简历不存在"

### 3. 简历更新测试

#### 3.1 正常更新简历

**步骤：**
1. 以学生身份登录
2. 调用更新简历API，修改专业、教育水平等信息
3. 验证简历更新成功

**预期结果：**
- 返回状态码200
- 返回成功消息和更新后的简历信息
- 数据库中的记录已更新

#### 3.2 更新不存在的简历

**步骤：**
1. 以学生身份登录
2. 调用更新不存在的简历API
3. 验证系统返回错误

**预期结果：**
- 返回状态码404
- 返回错误消息："简历不存在"

#### 3.3 更新他人的简历

**步骤：**
1. 以学生身份登录
2. 调用更新他人简历API
3. 验证系统返回错误

**预期结果：**
- 返回状态码403
- 返回错误消息："无权限修改此简历"

### 4. 简历删除测试

#### 4.1 正常删除简历

**步骤：**
1. 以学生身份登录
2. 调用删除简历API
3. 验证简历删除成功

**预期结果：**
- 返回状态码200
- 返回成功消息
- 数据库中的记录已删除

#### 4.2 删除不存在的简历

**步骤：**
1. 以学生身份登录
2. 调用删除不存在的简历API
3. 验证系统返回错误

**预期结果：**
- 返回状态码404
- 返回错误消息："简历不存在"

#### 4.3 删除他人的简历

**步骤：**
1. 以学生身份登录
2. 调用删除他人简历API
3. 验证系统返回错误

**预期结果：**
- 返回状态码403
- 返回错误消息："无权限删除此简历"

### 5. 简历列表查询测试

**步骤：**
1. 以学生身份登录
2. 创建多份简历
3. 调用查询简历列表API
4. 验证返回的简历列表正确

**预期结果：**
- 返回状态码200
- 返回的简历列表包含所有创建的简历
- 列表数量与数据库中的记录一致

## Postman测试方法

### 准备工作

1. 导入Postman集合（如果有）
2. 设置环境变量：
   - `base_url`: API基础URL（例如：http://localhost:8080/api）
   - `student_token`: 学生用户的JWT令牌

### 测试步骤

#### 1. 创建简历

**请求：**
```
POST {{base_url}}/v1/me/resume
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "major": "计算机科学与技术",
  "educationLevel": "本科",
  "resumeUrl": "http://example.com/resume.pdf",
  "achievements": "获得校级奖学金"
}
```

**验证：**
- 状态码为201
- 响应包含成功消息和简历ID

#### 2. 查询我的简历

**请求：**
```
GET {{base_url}}/v1/me/resume
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应中包含正确的简历信息

#### 3. 查询我的所有简历列表

**请求：**
```
GET {{base_url}}/v1/me/resumes
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应中包含简历列表

#### 4. 更新简历

**请求：**
```
PUT {{base_url}}/v1/me/resume/1
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "major": "软件工程",
  "educationLevel": "硕士",
  "resumeUrl": "http://example.com/updated-resume.pdf",
  "achievements": "获得国家奖学金"
}
```

**验证：**
- 状态码为200
- 响应包含成功消息和更新后的简历信息

#### 5. 删除简历

**请求：**
```
DELETE {{base_url}}/v1/me/resume/1
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应包含成功消息 