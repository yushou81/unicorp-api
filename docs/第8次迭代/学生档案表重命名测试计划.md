# 学生档案表重命名测试计划

## 背景

在第8次迭代中，我们将`student_profiles`表重命名为`resumes`，使命名更加直观，并修改了相关的实体类、Mapper和VO。这个测试计划旨在验证重命名后系统的功能是否正常运行。

## 测试范围

1. 简历信息的增删改查功能
2. 岗位申请与简历关联功能
3. 用户个人主页中的简历信息展示功能

## 测试用例

### 1. 简历信息的基本操作

#### 1.1 创建简历

**步骤：**
1. 以学生身份登录
2. 调用创建简历API，提供专业、教育水平等信息
3. 验证简历创建成功

**预期结果：**
- 返回状态码201
- 返回成功消息和新创建的简历ID
- 数据库中的resumes表有对应记录

#### 1.2 更新简历

**步骤：**
1. 以学生身份登录
2. 调用更新简历API，修改专业、教育水平等信息
3. 验证简历更新成功

**预期结果：**
- 返回状态码200
- 返回成功消息
- 数据库中的resumes表记录已更新

#### 1.3 查询简历

**步骤：**
1. 以学生身份登录
2. 调用查询简历API
3. 验证返回的简历信息正确

**预期结果：**
- 返回状态码200
- 返回的简历信息与数据库中的记录一致

### 2. 岗位申请与简历关联

#### 2.1 创建岗位申请并关联简历

**步骤：**
1. 以学生身份登录
2. 调用创建岗位申请API，提供岗位ID和简历ID
3. 验证申请创建成功并关联了正确的简历

**预期结果：**
- 返回状态码201
- 返回成功消息和新创建的申请ID
- 数据库中的applications表记录包含正确的resume_id

#### 2.2 查询岗位申请详情

**步骤：**
1. 以企业导师身份登录
2. 调用查询岗位申请详情API
3. 验证返回的申请详情中包含简历信息

**预期结果：**
- 返回状态码200
- 返回的申请详情中包含正确的简历信息

### 3. 用户个人主页

#### 3.1 查看学生个人主页

**步骤：**
1. 调用查询用户个人主页API，指定学生用户ID
2. 验证返回的个人主页信息中包含简历信息

**预期结果：**
- 返回状态码200
- 返回的个人主页信息中包含正确的简历信息

## Postman测试方法

### 准备工作

1. 导入Postman集合（如果有）
2. 设置环境变量：
   - `base_url`: API基础URL（例如：http://localhost:8080/api）
   - `student_token`: 学生用户的JWT令牌
   - `mentor_token`: 企业导师的JWT令牌

### 测试步骤

#### 1. 创建简历

**请求：**
```
POST {{base_url}}/v1/me/resume
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "major": "计算机科学与技术",
  "educationLevel": "本科",
  "resumeUrl": "http://example.com/resume.pdf",
  "achievements": "获得校级奖学金"
}
```

**验证：**
- 状态码为201
- 响应包含成功消息和简历ID

#### 2. 更新简历

**请求：**
```
PUT {{base_url}}/v1/me/resume/1
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "major": "软件工程",
  "educationLevel": "硕士",
  "resumeUrl": "http://example.com/updated-resume.pdf",
  "achievements": "获得国家奖学金"
}
```

**验证：**
- 状态码为200
- 响应包含成功消息

#### 3. 查询简历

**请求：**
```
GET {{base_url}}/v1/me/resume
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应中包含正确的简历信息

#### 4. 创建岗位申请

**请求：**
```
POST {{base_url}}/v1/jobs/applications
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "jobId": 1,
  "resumeId": 1
}
```

**验证：**
- 状态码为201
- 响应包含成功消息和申请ID

#### 5. 查询岗位申请详情

**请求：**
```
GET {{base_url}}/v1/jobs/applications/1
Headers:
  Authorization: Bearer {{mentor_token}}
```

**验证：**
- 状态码为200
- 响应中包含正确的简历信息

#### 6. 查看学生个人主页

**请求：**
```
GET {{base_url}}/v1/profiles/1
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应中包含正确的简历信息 