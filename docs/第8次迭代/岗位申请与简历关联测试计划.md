# 岗位申请与简历关联测试计划

## 背景

在第8次迭代中，我们为岗位申请表添加了简历ID字段，使岗位申请与学生简历建立关联。这样企业导师可以通过岗位申请直接查看学生的简历信息，提高招聘效率。本测试计划旨在验证这一功能的正确性和有效性。

## 测试范围

1. 岗位申请创建功能
2. 岗位申请详情查询功能
3. 企业导师查看申请列表功能
4. 企业导师查看申请详情功能

## 测试用例

### 1. 岗位申请创建测试

#### 1.1 正常创建岗位申请

**步骤：**
1. 以学生身份登录
2. 调用创建岗位申请API，提供有效的岗位ID和简历ID
3. 验证申请创建成功

**预期结果：**
- 返回状态码201
- 返回成功消息和新创建的申请ID
- 数据库中的申请记录包含正确的简历ID

#### 1.2 不提供简历ID创建申请

**步骤：**
1. 以学生身份登录
2. 调用创建岗位申请API，只提供岗位ID，不提供简历ID
3. 验证系统返回错误

**预期结果：**
- 返回状态码400
- 返回错误消息："简历ID不能为空"

#### 1.3 提供不存在的简历ID

**步骤：**
1. 以学生身份登录
2. 调用创建岗位申请API，提供不存在的简历ID
3. 验证系统返回错误

**预期结果：**
- 返回状态码404
- 返回错误消息："简历不存在"

### 2. 岗位申请详情查询测试

#### 2.1 学生查看自己的申请详情

**步骤：**
1. 以学生身份登录
2. 调用查询申请详情API
3. 验证返回的申请详情中包含简历ID

**预期结果：**
- 返回状态码200
- 返回的申请详情中包含正确的简历ID

### 3. 企业导师查看申请列表测试

**步骤：**
1. 以企业导师身份登录
2. 调用查询岗位申请列表API
3. 验证返回的申请列表中每条记录都包含简历ID

**预期结果：**
- 返回状态码200
- 返回的申请列表中每条记录都包含简历ID

### 4. 企业导师查看申请详情测试

**步骤：**
1. 以企业导师身份登录
2. 调用查询申请详情API
3. 验证返回的申请详情中包含简历ID和简历详细信息

**预期结果：**
- 返回状态码200
- 返回的申请详情中包含正确的简历ID和简历详细信息

## Postman测试方法

### 准备工作

1. 导入Postman集合（如果有）
2. 设置环境变量：
   - `base_url`: API基础URL（例如：http://localhost:8080/api）
   - `student_token`: 学生用户的JWT令牌
   - `mentor_token`: 企业导师的JWT令牌

### 测试步骤

#### 1. 创建岗位申请

**请求：**
```
POST {{base_url}}/v1/jobs/applications
Headers:
  Authorization: Bearer {{student_token}}
  Content-Type: application/json
Body:
{
  "jobId": 1,
  "resumeId": 1
}
```

**验证：**
- 状态码为201
- 响应包含成功消息和申请ID

#### 2. 学生查看申请详情

**请求：**
```
GET {{base_url}}/v1/me/applications/1
Headers:
  Authorization: Bearer {{student_token}}
```

**验证：**
- 状态码为200
- 响应中包含resumeId字段

#### 3. 企业导师查看申请列表

**请求：**
```
GET {{base_url}}/v1/jobs/1/applications
Headers:
  Authorization: Bearer {{mentor_token}}
```

**验证：**
- 状态码为200
- 响应中的每条记录都包含resumeId字段

#### 4. 企业导师查看申请详情

**请求：**
```
GET {{base_url}}/v1/jobs/applications/1
Headers:
  Authorization: Bearer {{mentor_token}}
```

**验证：**
- 状态码为200
- 响应中包含resumeId字段和简历详细信息 