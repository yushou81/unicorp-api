# 第三次迭代API接口说明

本文档详细说明第三次迭代中实现的API接口，包括合作项目管理相关功能。

## 1. 合作项目管理接口

### 1.1 获取项目列表

**接口说明**：获取所有状态为'recruiting'的项目列表，支持分页和关键词搜索。

**请求方式**：GET

**接口地址**：`/v1/projects`

**请求参数**：

| 参数名 | 类型   | 必填 | 说明                     |
| ------ | ------ | ---- | ------------------------ |
| page   | int    | 否   | 页码，默认0              |
| size   | int    | 否   | 每页大小，默认10         |
| keyword| string | 否   | 搜索关键词，匹配标题和描述 |

**响应示例**：

```json
{
  "code": 200,
  "message": "获取项目列表成功",
  "data": {
    "records": [
      {
        "id": 1,
        "organizationId": 2,
        "organizationName": "测试企业",
        "title": "人工智能研究项目",
        "description": "这是一个关于人工智能的研究项目，旨在探索机器学习在实际场景中的应用",
        "status": "recruiting",
        "createdAt": "2025-07-01T10:00:00"
      },
      // 更多项目...
    ],
    "total": 10,
    "size": 10,
    "current": 0,
    "pages": 1
  }
}
```

### 1.2 创建新项目

**接口说明**：由教师或企业用户调用，用于发布一个新的合作项目。

**请求方式**：POST

**接口地址**：`/v1/projects`

**权限要求**：需要教师、企业管理员或企业导师角色

**请求参数**：

| 参数名      | 类型   | 必填 | 说明         |
| ----------- | ------ | ---- | ------------ |
| title       | string | 是   | 项目标题     |
| description | string | 是   | 项目描述     |
| status      | string | 否   | 项目状态，默认为"recruiting" |

**请求示例**：

```json
{
  "title": "智慧校园解决方案",
  "description": "开发一套智慧校园综合解决方案，包括校园安全、智能教学、数据分析等模块"
}
```

**响应示例**：

```json
{
  "code": 200,
  "message": "项目创建成功",
  "data": {
    "id": 2,
    "organizationId": 3,
    "organizationName": "中南大学",
    "title": "智慧校园解决方案",
    "description": "开发一套智慧校园综合解决方案，包括校园安全、智能教学、数据分析等模块",
    "status": "recruiting",
    "createdAt": "2025-07-01T11:30:00"
  }
}
```

### 1.3 获取特定项目详情

**接口说明**：根据ID获取项目的详细信息。

**请求方式**：GET

**接口地址**：`/v1/projects/{id}`

**请求参数**：

| 参数名 | 类型 | 必填 | 说明    |
| ------ | ---- | ---- | ------- |
| id     | int  | 是   | 项目ID  |

**响应示例**：

```json
{
  "code": 200,
  "message": "获取项目详情成功",
  "data": {
    "id": 1,
    "organizationId": 2,
    "organizationName": "测试企业",
    "title": "人工智能研究项目",
    "description": "这是一个关于人工智能的研究项目，旨在探索机器学习在实际场景中的应用",
    "status": "recruiting",
    "createdAt": "2025-07-01T10:00:00"
  }
}
```

### 1.4 更新项目信息

**接口说明**：更新已发布项目的信息。

**请求方式**：PUT

**接口地址**：`/v1/projects/{id}`

**权限要求**：需要教师、企业管理员或企业导师角色，且只能修改自己组织的项目

**请求参数**：

| 参数名      | 类型   | 必填 | 说明         |
| ----------- | ------ | ---- | ------------ |
| id          | int    | 是   | 项目ID       |
| title       | string | 是   | 项目标题     |
| description | string | 是   | 项目描述     |
| status      | string | 否   | 项目状态     |

**请求示例**：

```json
{
  "title": "高级人工智能研究项目",
  "description": "这是一个关于高级人工智能的研究项目，重点研究深度学习和自然语言处理技术",
  "status": "in_progress"
}
```

**响应示例**：

```json
{
  "code": 200,
  "message": "项目更新成功",
  "data": {
    "id": 1,
    "organizationId": 2,
    "organizationName": "测试企业",
    "title": "高级人工智能研究项目",
    "description": "这是一个关于高级人工智能的研究项目，重点研究深度学习和自然语言处理技术",
    "status": "in_progress",
    "createdAt": "2025-07-01T10:00:00"
  }
}
```

### 1.5 删除项目

**接口说明**：逻辑删除一个项目。

**请求方式**：DELETE

**接口地址**：`/v1/projects/{id}`

**权限要求**：需要教师、企业管理员或企业导师角色，且只能删除自己组织的项目

**请求参数**：

| 参数名 | 类型 | 必填 | 说明    |
| ------ | ---- | ---- | ------- |
| id     | int  | 是   | 项目ID  |

**响应**：
- 状态码: 204 No Content
- 无响应体

## 2. 错误码说明

| 错误码 | 说明                     |
| ------ | ------------------------ |
| 200    | 请求成功                 |
| 201    | 创建成功                 |
| 204    | 删除成功                 |
| 400    | 请求参数错误或业务逻辑错误 |
| 401    | 未认证                   |
| 403    | 权限不足                 |
| 404    | 资源不存在               |
| 500    | 服务器内部错误           |

## 3. 权限控制说明

1. **TEACHER**、**EN_ADMIN**和**EN_TEACHER**可以:
   - 创建项目
   - 更新自己组织的项目
   - 删除自己组织的项目

2. **SYSADMIN**拥有所有权限

3. **公开接口**（无需登录即可访问）:
   - 查看项目列表
   - 查看项目详情 