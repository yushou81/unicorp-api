# 双师课堂 - 获取课程学生列表测试计划

## 功能描述

本测试计划用于验证双师课堂模块中获取课程学生列表的功能。该功能允许课程教师、企业导师和学校管理员查看已报名课程的学生列表。

## 接口信息

- **URL**: `/api/v1/dual-courses/{id}/students`
- **方法**: GET
- **请求参数**: 
  - `id`: 课程ID，路径参数

## 权限要求

以下角色有权访问此接口：
- 课程教师
- 课程企业导师
- 学校管理员

## 测试环境

- 开发环境: http://192.168.58.162:8081
- 测试工具: Postman

## 测试用例

### 1. 教师查看自己课程的学生列表

#### 前置条件
- 已创建课程，课程ID为3
- 已有学生报名该课程
- 教师为该课程的授课教师

#### 测试步骤
1. 使用教师账号登录系统，获取JWT令牌
2. 使用Postman，在Authorization选项卡中选择Bearer Token类型，填入令牌
3. 发送GET请求到 `/api/v1/dual-courses/3/students`

#### 预期结果
- 状态码: 200
- 返回JSON数据包含报名该课程的学生列表
- 每个学生信息应包含ID、账号、昵称、邮箱、手机号、头像、状态、组织ID、组织名称和角色等字段

### 2. 企业导师查看自己参与课程的学生列表

#### 前置条件
- 已创建课程，课程ID为3
- 已有学生报名该课程
- 企业导师为该课程的协作导师

#### 测试步骤
1. 使用企业导师账号登录系统，获取JWT令牌
2. 使用Postman，在Authorization选项卡中选择Bearer Token类型，填入令牌
3. 发送GET请求到 `/api/v1/dual-courses/3/students`

#### 预期结果
- 状态码: 200
- 返回JSON数据包含报名该课程的学生列表
- 每个学生信息应包含ID、账号、昵称、邮箱、手机号、头像、状态、组织ID、组织名称和角色等字段

### 3. 学校管理员查看本校教师课程的学生列表

#### 前置条件
- 已创建课程，课程ID为3
- 已有学生报名该课程
- 学校管理员与课程教师属于同一学校

#### 测试步骤
1. 使用学校管理员账号登录系统，获取JWT令牌
2. 使用Postman，在Authorization选项卡中选择Bearer Token类型，填入令牌
3. 发送GET请求到 `/api/v1/dual-courses/3/students`

#### 预期结果
- 状态码: 200
- 返回JSON数据包含报名该课程的学生列表
- 每个学生信息应包含ID、账号、昵称、邮箱、手机号、头像、状态、组织ID、组织名称和角色等字段

### 4. 未授权用户访问

#### 前置条件
- 已创建课程，课程ID为3
- 用户不是该课程的教师、企业导师，也不是相关学校的管理员

#### 测试步骤
1. 使用学生账号登录系统，获取JWT令牌
2. 使用Postman，在Authorization选项卡中选择Bearer Token类型，填入令牌
3. 发送GET请求到 `/api/v1/dual-courses/3/students`

#### 预期结果
- 状态码: 400
- 返回错误信息："权限不足，只有课程教师、企业导师或学校管理员可以查看学生列表"

### 5. 不存在的课程

#### 前置条件
- 课程ID为999的课程不存在

#### 测试步骤
1. 使用教师账号登录系统，获取JWT令牌
2. 使用Postman，在Authorization选项卡中选择Bearer Token类型，填入令牌
3. 发送GET请求到 `/api/v1/dual-courses/999/students`

#### 预期结果
- 状态码: 400
- 返回错误信息："课程不存在"

## Postman测试方法

1. 打开Postman
2. 创建新的请求
3. 设置请求方法为GET
4. 输入URL: `http://192.168.58.162:8081/api/v1/dual-courses/3/students`
5. 在Authorization选项卡中选择Bearer Token类型
6. 在Token字段中输入从登录接口获取的JWT令牌
7. 点击Send按钮发送请求
8. 验证响应状态码和返回的数据

## 注意事项

- 测试前确保有课程数据和学生报名数据
- 确保使用正确的角色账号登录
- 检查返回的学生列表数据是否完整 